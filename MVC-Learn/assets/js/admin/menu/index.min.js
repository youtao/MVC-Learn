$(function(){$("#menu-list").treegrid({url:"/admin/menu/getmenu",idField:"Id",treeField:"Title",method:"GET",loadMsg:"拼命加载中...",rownumbers:!0,animate:!0,lines:!0,columns:[[{field:"Title",title:"title",width:"30%"},{field:"Url",title:"url",width:"40%"},{field:"Icon",title:"icon",width:"20%",align:"center",formatter:function(n){return'<i class="'+n+'"><\/i>&nbsp;&nbsp;&nbsp;'+n}}]],loadFilter:function(n){for(var t=0;t<n.length;t++)n[t].HasChildren&&(n[t].state="closed",n[t].children=[]);return n},onBeforeExpand:function(n){$("#menu-list").treegrid("options").url="/admin/menu/getmenu?ParentId="+n.Id}})});