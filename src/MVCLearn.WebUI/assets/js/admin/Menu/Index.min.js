$(function(){_page.loadData()});var _page={init:function(){this.loadData()},loadData:function(){var n=this;$.get("/assets/json/menus.json",null,function(t){var i=n.recursiveMenu(t);$("#menu-table > tbody").html(i);n.menuListener()})},recursiveMenu:function(n,t){var f,u,r,i,e,o;for(t||(t=0),f="",u=0;u<n.length;u++)r=n[u],i='<tr data-level="'+t+'">',i+="<td><\/td>",e=' style="text-align: left;',o=10,t>=1&&(o+=30*t),e+="padding-left:"+o+'px;" ',i+="<td "+e+">",r.children.length>0?(i+='<i class="fa fa-minus-square-o tree-operator"><\/i> ',i+='<i class="fa fa-folder-open tree-folder"><\/i> '):i+='<i class="fa fa-file-text-o"><\/i> ',i+=r.title+"<\/td>",i+="<td>"+decodeURI(r.url)+"<\/td>",i+='<td><i class="'+r.icon+'"><\/i> '+r.icon+"<\/td>",i+="<\/tr>",r.children.length>0&&(i+=arguments.callee(r.children,t+1)),f+=i;return f},menuListener:function(){var n=this;$("#menu-table").on("click",".tree-operator",function(){var i=$(this),h=i.parent().parent(),o=parseInt(h.attr("data-level")),r=h.nextAll(),u,c,s,f,t,e;if(i.hasClass("fa-minus-square-o")){for(u=0;u<r.length;u++){if(t=$(r[u]),parseInt(t.attr("data-level"))===o)break;t.hide();c=t.find(">td:nth-child(2) >.fa-minus-square-o");n.collapseMenu(c)}n.collapseMenu(i)}else{for(s=o+1,f=0;f<r.length;f++)if(t=$(r[f]),e=parseInt(t.attr("data-level")),e===s)t.show();else{if(e===o)break;if(e!==s)continue}n.expandMenu(i)}})},expandMenu:function(n){n.removeClass("fa-plus-square-o");n.addClass("fa-minus-square-o");n.next().removeClass("fa-folde");n.next().addClass("fa-folder-open")},collapseMenu:function(n){n.removeClass("fa-minus-square-o");n.addClass("fa-plus-square-o");n.next().removeClass("fa-folder-open");n.next().addClass("fa-folder")}};