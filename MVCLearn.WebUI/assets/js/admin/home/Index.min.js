function iframeOnLoad(){window.toastr.success("","页面加载成功",{closeButton:!0,positionClass:"toast-top-right",timeOut:"5000"})}$(function(){_page.init()});var _page={iframeSrc:"",init:function(){$(window).resize(this.onresize);this.initMenu();this.initIframe(GlobalConfig.IframeSrc)},initMenu:function(){var n=this;$.get("/assets/json/menus.json",null,function(t){var i=n.recursiveMenu(t),r=i.substr(0,3),u=i.substring(3,i.length);i=r+' id="menu-main" '+u;$("#menu-inner").append(i);$("#menu-inner").perfectScrollbar();n.menuListener()})},recursiveMenu:function(n,t){var f,u,s,e;for(t||(t=0),f="<ul>",u=0;u<n.length;u++){var r=n[u],i="<li>",o="";if(t>=1&&(s=30+(t-1)*25,o=' style="padding-left:'+s+'px;" '),i+='<a href="javascript:void(0);"'+o+'data-url="'+r.url+'">',e="fa fa-bars",r.icon&&(e=r.icon),i+='<span class="'+e+' menu-icon"><\/span> ',i+='<span class="menu-title">'+r.title+"<\/span>",i+="<\/a>",r.children.length>0){var h=i.substr(0,3),c=i.substring(3,i.length);i=h+' class="has-sub" '+c+arguments.callee(r.children,t+1)}i+="<\/li>";f+=i}return f+"<\/ul>"},menuListener:function(){var n=this;$("#menu-inner").on("click","li",function(t){var i,u,r;t.stopPropagation();i=$(this);i.hasClass("has-sub")?i.hasClass("expanded")?n.collapseMenu(i):n.expandMenu(i):(n.collapseMenu(i.siblings(".expanded")),u=i.find("> a"),r=u.attr("data-url"),r!=="javascript:void(0);"&&(n.initIframe(r),$("#menu-inner a.active").removeClass("active"),i.children("a").addClass("active")))})},expandMenu:function(n){var t,i;n.addClass("expanded");this.collapseMenu(n.siblings(".expanded"));t=n.children("ul");t.css("display","block");i=t.outerHeight();t.css("height",0);t.animate({height:i},500,function(){t.css("height","")})},collapseMenu:function(n){n.removeClass("expanded");var t=n.children("ul");t.css("height",t.outerHeight());t.animate({height:0},500,function(){t.css("height","");n.find("ul").css("display","none");n.find("li").removeClass("expanded")})},initIframe:function(n){if(n){this.onresize();var t='<iframe src="'+n+'" onload="iframeOnLoad()"><\/iframe>';$("#page-iframe").html(t);this.iframeSrc=n}},onresize:function(){var n=$(window).height(),t=$("#page-heard"),i=$("#page-iframe");n=n-t.outerHeight();i.css("height",n)}};