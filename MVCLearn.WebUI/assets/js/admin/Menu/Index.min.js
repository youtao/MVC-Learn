function loadData(){$.get("/assets/json/menus.json",null,function(n){var t=recursiveMenu(n);$("#menu-table > tbody").html(t);menuListener()})}function recursiveMenu(n,t){var f,u,r,i,e,o;for(t||(t=0),f="",u=0;u<n.length;u++)r=n[u],i='<tr data-level="'+t+'">',i+="<td><\/td>",e=' style="text-align: left;',o=10,t>=1&&(o+=30*t+5),e+="padding-left:"+o+'px;" ',i+="<td "+e+">",r.children.length>0?(i+='<i class="fa fa-minus-square-o tree-operator"><\/i> ',i+='<i class="fa fa-folder-open tree-folder"><\/i> '):i+='<i class="fa fa-file-text-o"><\/i> ',i+=r.title+"<\/td>",i+="<td>"+decodeURI(r.url)+"<\/td>",i+='<td><i class="'+r.icon+'"><\/i> '+r.icon+"<\/td>",i+="<\/tr>",r.children.length>0&&(i+=arguments.callee(r.children,t+1)),f+=i;return f}function menuListener(){$("#menu-table").on("click",".tree-operator",function(){var t=$(this),s=t.parent().parent(),e=parseInt(s.attr("data-level")),i=s.nextAll(),r,h,o,u,n,f;if(t.hasClass("fa-minus-square-o")){for(r=0;r<i.length;r++){if(n=$(i[r]),parseInt(n.attr("data-level"))===e)break;n.hide();h=n.find(">td:nth-child(2) >.fa-minus-square-o");closeMenu(h)}closeMenu(t)}else{for(o=e+1,u=0;u<i.length;u++)if(n=$(i[u]),f=parseInt(n.attr("data-level")),f===o)n.show();else{if(f===e)break;if(f!==o)continue}openMenu(t)}})}function openMenu(n){n.removeClass("fa-plus-square-o");n.addClass("fa-minus-square-o");n.next().removeClass("fa-folde");n.next().addClass("fa-folder-open")}function closeMenu(n){n.removeClass("fa-minus-square-o");n.addClass("fa-plus-square-o");n.next().removeClass("fa-folder-open");n.next().addClass("fa-folder")}$(function(){loadData()});