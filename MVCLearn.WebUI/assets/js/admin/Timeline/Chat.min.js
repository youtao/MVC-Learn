function onresize(){var n=$(window).height(),t=$("#input-area"),i=$("#chat-conversation"),r=n-t.outerHeight();i.css("height",r);$("#chat-conversation").scrollTop($("#chat-conversation")[0].scrollHeight)}$(function(){var t,n;onresize();$(window).resize(onresize);$("#input-area").resize(onresize);t=new Vue({el:"#chat-app",data:{messages:[]}});$.connection.hub.url="http://localhost:26949/signalr";n=$.connection.chatHub;n.client.start=function(n){console.log("连接:"+n)};n.client.leave=function(n){console.log("离开:"+n)};n.client.sendMessages=function(n,i){t.messages.push({aligned:"left-aligned",icon:"fa-lastfm",username:"",time:(new Date).Format("hh:mm:ss"),content:i})};$.connection.hub.start().done(function(){});$("#send-messages").click(function(){var i=$("#chat-input").text();$("#chat-input").text("");t.messages.push({aligned:"right-aligned",icon:"fa-database",username:"",time:(new Date).Format("hh:mm:ss"),content:i});n.server.sendMessages(i);$("#send-messages").attr("disabled","disabled")});$("#chat-conversation").perfectScrollbar();$("div.chat-input").perfectScrollbar();$("#chat-input").bind("input propertychange",function(){var n=$(this).text();n.trim().length>0?$("#send-messages").removeAttr("disabled"):$("#send-messages").attr("disabled","disabled")})});